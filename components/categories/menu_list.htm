{% set category_list = __SELF__.product_categories %}

{% if not category_list|length %}
<p class="alert alert-info">{{ __SELF__.noProductCategoriesMessage }}</p>
{% else %}
<div class="list-group">
    {% for category in category_list %}
        {% set productCount = category.product_count %}
        <a href="{{ category.url }}" class="list-group-item {% if category.slug == __SELF__.currentProductCategorySlug %}active{% endif %}">
            {{ category.name }}
            {% if productCount %}
                <span class="badge">{{ productCount }}</span>
            {% endif %}
        </a>
    {% endfor %}
</div>
{% endif %}